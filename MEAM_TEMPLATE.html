<!-- 2025_11_30_@_17-20-18 -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--
ai-template: {
  "version": "1.0",
  "description": "Static A4 layout for MEAM rules and guidance documents. Replace [[tokens]] with concrete data or call the client filler.",
  "instructions": [
    "Populate each [[token]] with supplied document data without altering the surrounding markup.",
    "When a container declares data-repeat, duplicate the child element for each array item and replace the nested tokens with the item values.",
    "Set element attributes instead of text when a data-attr hint is present (e.g. data-attr='src').",
    "Tokens support dot notation for nested objects and zero-based indices (e.g. [[footerDates.0]]).",
    "You may provide data at runtime by setting window.MEAM_DATA before this file loads or by calling window.MEAM.fill(data). If no data is provided, sampleData will render."
  ],
  "slots": {
    "metaTitle": "Document title for the browser tab and metadata.",
    "headerTitles": "Array of per-page header titles.",
    "docIdentifier": "Unique document identifier shown beneath the header band on every page.",
    "logoSrc": "Path or URL to the primary logo displayed on page 1.",
    "logoAlt": "Accessible description for the primary logo.",
    "sideImageSrc": "Path or URL to the decorative side image on page 1.",
    "sideImageAlt": "Accessible description for the side image.",
    "footerDates": "Array of footer date strings per page (YYYY-MM-DD).",
    "pageCounters": "Array of pagination labels per page (e.g. '1 of 2').",
    "scopeParagraphs": "Array of paragraphs describing the scope section.",
    "generalComplianceItems": "Array of bullet items describing general compliance expectations.",
    "euDirectiveRows": "Array of {reference,title,scope} objects for the EU directives table.",
    "internationalStandardsRows": "Array of {standard,title,application} objects for the international standards table.",
    "documentationList": "Array of bullet items for documentation and verification.",
    "referencesList": "Array of bullet items for references.",
    "notifiedBodies": "Array of {label,url} objects for notified body links."
  },
  "sampleData": {
    "metaTitle": "DOC X.Y.Z Guidance – Example Only",
    "headerTitles": [
      "GUIDE – Example Document",
      "GUIDE – Example Document (Continued)"
    ],
    "docIdentifier": "EXAMPLE_DOC_0001",
    "logoSrc": "https://cdn.jsdelivr.net/gh/Meambv/PUBLIC@main/images/meam_logo.png",
    "logoAlt": "Example logo",
    "sideImageSrc": "https://cdn.jsdelivr.net/gh/Meambv/PUBLIC@main/images/side_title.png",
    "sideImageAlt": "Decorative graphic",
    "footerDates": ["2099-01-01", "2099-01-01"],
    "pageCounters": ["1 of 2", "2 of 2"],
    "scopeParagraphs": [
      "This page demonstrates the layout and data-binding behaviour only.",
      "Replace these values via window.MEAM.fill(data) or by editing sampleData in the ai-template block."
    ],
    "generalComplianceItems": [
      "Placeholder item A (non-binding).",
      "Placeholder item B (non-binding).",
      "Placeholder item C (non-binding)."
    ],
    "euDirectiveRows": [
      {"reference": "Ref-001", "title": "Sample Title A", "scope": "Illustrative description."},
      {"reference": "Ref-002", "title": "Sample Title B", "scope": "Illustrative description."}
    ],
    "internationalStandardsRows": [
      {"standard": "STD-100", "title": "Sample Standard X", "application": "Demonstration text."},
      {"standard": "STD-200", "title": "Sample Standard Y", "application": "Demonstration text."}
    ],
    "documentationList": [
      "Demonstration bullet – replace in production.",
      "Another demonstration bullet – replace in production."
    ],
    "referencesList": [
      "Reference placeholder one.",
      "Reference placeholder two."
    ],
    "notifiedBodies": [
      {"label": "Example Body", "url": "https://example.org"}
    ]
  }
}
-->
<title data-slot="metaTitle">[[metaTitle]]</title>
<style>
  body{margin:0;background:#fff;font-family:"Neue Haas Grotesk",Helvetica,Arial,sans-serif;color:#000;}
  .page-frame{position:relative;width:794px;height:1135px;margin:auto;border:1px solid #000;box-sizing:border-box;overflow:hidden;page-break-after:always;}
  .header-band{position:absolute;top:0;left:0;width:92%;height:95px;border-bottom:1px solid #000;display:flex;align-items:center;justify-content:center;}
  .header-band-more{position:absolute;top:0;left:0;width:100%;height:95px;border-bottom:1px solid #000;display:flex;align-items:center;justify-content:center;}
  .header-title,.header-title-more{font-size:16pt;font-weight:700;color:#03397a;text-align:center;margin-left:60px;}
  .logo{position:absolute;top:10px;left:20px;height:85px;width:auto;object-fit:contain;}
  .doc-band,.doc-band-more{position:absolute;top:95px;left:0;text-align:center;}
  .doc-band{width:92%;}.doc-band-more{width:100%;}
  .doc-band .line,.doc-band-more .line{border-top:1px solid #000;width:100%;margin:4px 0;}
  .doc-band .doc-id,.doc-band-more .doc-id{font-family:"Courier New",monospace;font-size:18px;line-height:1.2;}
  .content-frame{position:absolute;left:45px;right:65px;top:160px;bottom:100px;overflow:hidden;}
  .content-frame h1{font-size:15pt;font-weight:700;color:#03397a;margin-top:22px;margin-bottom:10px;}
  .content-frame p{font-size:11pt;margin-left:40px;margin-bottom:8px;}
  .content-frame ul{margin-left:60px;font-size:11pt;margin-top:0;margin-bottom:8px;}
  .content-frame table{width:90%;margin-left:40px;border-collapse:collapse;font-size:10.5pt;}
  .content-frame table th,.content-frame table td{border-bottom:1px solid #ccc;padding:4px 6px;text-align:left;}
  .content-frame table th{background:#f3f3f3;font-weight:600;}
  .content-frame table tr:nth-child(even){background:#fafafa;}
  .sideframe{position:absolute;top:0;right:0;width:100px;height:1135px;overflow:hidden;background:transparent;z-index:0;}
  .sideframe canvas{position:absolute;top:0;left:0;width:100px;height:1135px;background:transparent;}
  .sideframe img{position:absolute;right:0;width:auto;height:300px;top:50px;object-fit:contain;}
  .footer,.footermore{position:absolute;bottom:10px;left:0;right:0;border-top:1px solid #000;width:100%;display:flex;justify-content:space-between;align-items:center;font-size:13px;padding:10px 20px;}
  .footer{width:calc(100% - 100px);} .footermore{width:calc(100% - 25px);} 
  .placeholder-note{font-size:10pt;margin-left:40px;color:#666;}
</style>
</head>
<body>

<!-- =============================== PAGE 1 =============================== -->
<div class="page-frame" data-page="1">
  <div class="header-band">
    <img class="logo" data-slot="logoSrc" data-attr="src" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="[[logoAlt]]" />
    <div class="header-title" data-slot="headerTitles.0">[[headerTitles.0]]</div>
  </div>
  <section class="doc-band">
    <div class="line"></div>
    <div class="doc-id">Doc. <span data-slot="docIdentifier">[[docIdentifier]]</span></div>
    <div class="line"></div>
  </section>
  <main class="content-frame">
    <h1>1. Scope</h1>
    <div data-repeat="scopeParagraphs">
      <p>[[item]]</p>
    </div>
    <h1>2. General Compliance</h1>
    <p class="placeholder-note">Replace this note with one or more lead-in paragraphs if needed before the list.</p>
    <ul data-repeat="generalComplianceItems">
      <li>[[item]]</li>
    </ul>
    <h1>3. EU Directives and Regulations</h1>
    <table>
      <thead>
        <tr><th>Reference</th><th>Title</th><th>Scope</th></tr>
      </thead>
      <tbody data-repeat="euDirectiveRows">
        <tr>
          <td>[[reference]]</td>
          <td>[[title]]</td>
          <td>[[scope]]</td>
        </tr>
      </tbody>
    </table>
  </main>
  <aside class="sideframe">
    <canvas id="rgbLines1" width="100" height="1123"></canvas>
    <img data-slot="sideImageSrc" data-attr="src" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="[[sideImageAlt]]" />
  </aside>
  <footer class="footer">
    <div>Meam BV</div>
    <div data-slot="footerDates.0">[[footerDates.0]]</div>
    <div data-slot="pageCounters.0">[[pageCounters.0]]</div>
  </footer>
</div>

<!-- =============================== PAGE 2 =============================== -->
<div class="page-frame" data-page="2">
  <div class="header-band-more">
    <div class="header-title-more" data-slot="headerTitles.1">[[headerTitles.1]]</div>
  </div>
  <section class="doc-band-more">
    <div class="line"></div>
    <div class="doc-id">Doc. <span data-slot="docIdentifier">[[docIdentifier]]</span></div>
    <div class="line"></div>
  </section>
  <main class="content-frame">
    <h1>4. International and EN Standards</h1>
    <table>
      <thead>
        <tr><th>Standard</th><th>Title</th><th>Application</th></tr>
      </thead>
      <tbody data-repeat="internationalStandardsRows">
        <tr>
          <td>[[standard]]</td>
          <td>[[title]]</td>
          <td>[[application]]</td>
        </tr>
      </tbody>
    </table>
    <h1>5. Documentation and Verification</h1>
    <ul data-repeat="documentationList">
      <li>[[item]]</li>
    </ul>
    <h1>6. References</h1>
    <ul data-repeat="referencesList">
      <li>[[item]]</li>
    </ul>
    <h1>7. Notified Body</h1>
    <ul data-repeat="notifiedBodies">
      <li><a href="[[url]]">[[label]]</a></li>
    </ul>
  </main>
  <aside class="sideframe">
    <canvas id="rgbLines2" width="100" height="1123"></canvas>
  </aside>
  <footer class="footermore">
    <div>Meam BV</div>
    <div data-slot="footerDates.1">[[footerDates.1]]</div>
    <div data-slot="pageCounters.1">[[pageCounters.1]]</div>
  </footer>
</div>

<script>
// --- Simple client-side filler ------------------------------------------------
(function(){
  function getTemplateJSON(){
    const html = document.documentElement.innerHTML;
    const m = html.match(/<!--\s*ai-template:\s*({[\s\S]*?})\s*-->/);
    if(!m) return null;
    try { return JSON.parse(m[1]); } catch(e){ console.warn("ai-template JSON parse failed", e); return null; }
  }
  function get(obj, path){
    if(!path) return undefined;
    const parts = path.split('.');
    let cur = obj;
    for(const p of parts){ if(cur==null) return undefined; cur = cur[p]; }
    return cur;
  }
  function replaceTokens(str, data){
    return String(str).replace(/\[\[([^\]]+)\]\]/g, (_, token)=>{
      if(token === 'item') return data.item ?? '';
      const v = get(data, token.trim());
      return (v==null) ? '' : String(v);
    });
  }
  function fillSlots(data){
    document.querySelectorAll('[data-slot]').forEach(el=>{
      const key = el.getAttribute('data-slot');
      const attr = el.getAttribute('data-attr');
      const val = get(data, key);
      if(val==null) return;
      if(attr){ el.setAttribute(attr, String(val)); }
      else { el.textContent = String(val); }
    });
  }
  function fillRepeats(data){
    document.querySelectorAll('[data-repeat]').forEach(container=>{
      const key = container.getAttribute('data-repeat');
      const arr = get(data, key);
      if(!Array.isArray(arr)) { container.innerHTML=''; return; }
      const templateHTML = container.innerHTML; // contents to clone
      container.innerHTML = '';
      arr.forEach(item=>{
        const ctx = (item && typeof item === 'object') ? item : { item };
        const fragmentHTML = replaceTokens(templateHTML, ctx);
        const frag = document.createElement('div');
        frag.innerHTML = fragmentHTML;
        // move children out (avoid extra wrapper)
        while(frag.firstChild){ container.appendChild(frag.firstChild); }
      });
    });
  }
  function drawBars(canvasId){
    const canvas = document.getElementById(canvasId);
    if(!canvas) return;
    const ctx = canvas.getContext('2d');
    const colors=['#d32f2f','#388e3c','#1976d2'], barW=6, gap=2, startX=40;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    colors.forEach((c,i)=>{ ctx.fillStyle=c; ctx.fillRect(startX+i*(barW+gap),0,barW,canvas.height); });
  }
  function fill(data){
    fillSlots(data);
    fillRepeats(data);
    drawBars('rgbLines1');
    drawBars('rgbLines2');
    // Also update <title> if present as a slot
    const t = get(data, 'metaTitle'); if(t){ document.title = String(t); }
  }
  // Public API
  window.MEAM = { fill };
  // Boot: prefer runtime data if provided, else sampleData
  const tpl = getTemplateJSON();
  const runtime = window.MEAM_DATA || null;
  const seed = runtime || (tpl && tpl.sampleData) || {};
  fill(seed);
})();
</script>
</body>
</html>
